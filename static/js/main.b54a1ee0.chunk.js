(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(5),r=a.n(o),s=(a(15),a(16),a(3)),i=a(7),u=(a(17),a(1));function l(e){var t=e.submit,a=Object(c.useState)(""),n=Object(s.a)(a,2),o=n[0],r=n[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return i.b.error("What picture do you need?");t(o),r("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){var t=e.currentTarget.value;r(t.toLowerCase())}})]})})}var j=a(9);var m=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22935349-f238c1b9d1a1a29229f76f105","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():e}))},b=function(e){var t=e.image,a=t.webformatURL,c=t.tags,n=e.image,o=e.onModalOpen;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return o(n)},children:Object(u.jsx)("img",{src:a,alt:c,className:"ImageGalleryItem-image"})})},d=function(e){var t=e.onBtnClick;return Object(u.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more..."})},h=a(10),O=a.n(h),f=(a(39),function(){return Object(u.jsx)("div",{role:"alert",className:"loader",children:Object(u.jsx)(O.a,{type:"MutatingDots",color:"#3f51b5",height:100,width:100,timeout:2e3})})});function g(e){var t=this,a=e.onModalClose,n=e.activeModalImg,o=n.largeImageURL,r=n.tags;Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",t.handleKeyDown)}}));var s=function(e){27===e.keyCode&&a()};return Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:o,alt:r,className:"modalImg"})})})}var p="idle",v="resolved",x="rejected";function w(e){var t=e.searchImageName,a=Object(c.useState)([]),n=Object(s.a)(a,2),o=n[0],r=n[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),h=l[0],O=l[1],w=Object(c.useState)(p),y=Object(s.a)(w,2),S=y[0],N=y[1],k=Object(c.useState)(null),I=Object(s.a)(k,2),C=I[0],M=I[1],E=Object(c.useState)(!1),F=Object(s.a)(E,2),L=F[0],T=F[1],B=Object(c.useState)(null),q=Object(s.a)(B,2),D=q[0],G=q[1],J=Object(c.useState)(1),R=Object(s.a)(J,2),U=R[0],_=R[1];Object(c.useEffect)((function(){r([])}),[t]),Object(c.useEffect)((function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),0)}),[o]);var z=function(){M(!C)},A=function(e){G(e),z()};return S===p?Object(u.jsx)("div",{className:"errorMessage",children:"Please enter your request"}):S===x?Object(u.jsx)("h1",{children:h.message}):S===v?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:o.map((function(e){return Object(u.jsx)(b,{onModalOpen:A,image:e},"image-item-image-".concat(e.id))}))}),L&&Object(u.jsx)(f,{}),Object(u.jsx)(d,{onBtnClick:function(){T(!0),function(e,t){T(!0),_(e),setTimeout((function(){m(t,e).then((function(e){var a=e.hits;if(e.total)r([].concat(Object(j.a)(o||[]),Object(j.a)(a))),N(v);else{var c=new Error("There is no picture with ".concat(t," name, please enter another request"));O(c),N(x)}})).catch((function(e){O(e),N(x)})),T(!1)}),1e3)}(U+1)}}),C&&Object(u.jsx)(g,{onModalClose:z,activeModalImg:D})]}):void 0}a(40);function y(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(i.a,{}),Object(u.jsx)(l,{submit:n}),Object(u.jsx)(w,{searchImageName:a})]})}r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b54a1ee0.chunk.js.map